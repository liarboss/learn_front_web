<button>测试1</button>
<button>测试2</button>
<button>测试3</button>

<script type="text/javascript">
  var btns = document.getElementsByTagName('button')
  // 注意[btns]不是一个数组,它是一个伪数组
  // 每次获取[btns.length]其实都是需要进行计算的(因为它是伪数组)
  // 所以为了性能更好，在此处赋值，就只需要计算一次
  for (var i = 0,length=btns.length; i < length; i++) {
    var btn = btns[i]
    btn.onclick = function () {  // 遍历加监听
      alert('第' + (i+1) + '个')     // 结果 全是[4]
    }
  }
</script>    